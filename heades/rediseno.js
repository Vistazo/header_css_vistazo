function updateProgressBar(){const e=(document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;document.querySelector(".progress-bardesk").style.width=e+"%"}function loadOnScroll(){loadExternalScripts()}function loadExternalScripts(){let e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e),console.log("Script de YouTube cargado nuevamente");let t=document.createElement("script");t.src="https://tpc.googlesyndication.com/sodar/sodar2.js",document.body.appendChild(t),console.log("Script de Google Ads cargado nuevamente")}function MostrarSubMenu(e){LimpiaHoverMenu(),cont=document.querySelector(".subnav"),cont.style.display="block",document.querySelector("."+e).style.display="block"}function LimpiaHoverMenu(){document.querySelector(".subnav").style.display="none",document.querySelector(".actualidad_submenu").style.display="none",document.querySelector(".politica_submenu").style.display="none",document.querySelector(".estilo_vida_submenu").style.display="none",document.querySelector(".estadio_submenu").style.display="none",document.querySelector(".portafolio_submenu").style.display="none",document.querySelector(".hogar_submenu").style.display="none",document.querySelector(".basic_search_bm").style.display="none",document.querySelector(".menu_burguer_bm").style.display="none"}function openSearch(){alert("Abrir cuadro de bÃºsqueda")}function toggleMenu(){const e=document.querySelector(".menu_burguer_bm");e.style.display="none"===e.style.display||""===e.style.display?"block":"none"}function toggleSearch(){const e=document.querySelector(".basic_search_bm");e.style.display="none"===e.style.display||""===e.style.display?"block":"none"}function toggleMenuMovil(){const e=document.querySelector(".menu_movil");e.style.display="none"===e.style.display||""===e.style.display?"block":"none"}function CanalWhatsapp(){try{var e=document.querySelector(".canal_whatsapp_link .acnal_whatsapp_link_redirect");if(e){let t='<img src="https://codigomarret.online/upload/img/whatsapp_37229.ico" alt="whatsapp-icon" loading="lazy" style="width: 20px; height: 20px; margin-right: 5px;">[Â¡Estamos en WhatsApp! ðŸ“² <b  class="b_azul" style="color: #4097ee;" >Empieza a seguirnos ahora</b>ðŸš€]';e.innerHTML=t;let o=document.querySelector(".b_azul");o.onmouseover=()=>{o.style.textDecoration="underline"},e.style.fontWeight="bold",e.style.color="black",e.style.fontStyle="italic"}}catch(e){console.log("")}}function CanalWhatsappMovil(){const e=document.querySelector(".canal_whatsapp_link .canal_whatsapp");e&&(e.style.display="none");var t=document.querySelector(".canal_whatsapp_movil .acnal_whatsapp_link_redirect");if(t){let e='<img loading="lazy" src="https://codigomarret.online/upload/img/whatsapp_37229.ico" alt="whatsapp-icon" style="width: 20px; height: 20px; margin-right: 5px;">[Â¡Estamos en WhatsApp! ðŸ“² <b  class="b_azul" style="color: #4097ee;" >Empieza a seguirnos ahora</b>ðŸš€]';t.innerHTML=e;let o=document.querySelector(".b_azul");o.onmouseover=()=>{o.style.textDecoration="underline"},t.style.fontWeight="bold",t.style.color="black",t.style.fontStyle="italic"}}function cambiarImagenPautaHome(){var e=document.querySelector(".IMG_PAUTAS_DIGITALES .multimedia a"),t=document.querySelector(".IMG_PAUTAS_DIGITALES .multimedia img"),o=[{src:"https://codigomarret.online/upload/img/banner-mascotas-1920x200.jpg",href:"https://www.vistazo.com/mascotas"}],n=[{src:"https://codigomarret.online/upload/img/banner-mascotas-400x100.jpg",href:"https://www.vistazo.com/mascotas"}];let a=0;function i(o){t.style.opacity=0,t.loading="lazy",t.decoding="async",t.src=o.src,e.href=o.href,t.style.opacity=1}function c(){i(o[a]),a=(a+1)%o.length}function s(){i(n[a]),a=(a+1)%n.length}e&&t&&(window.innerWidth<=768?n.length>1?setInterval(s,1e4):i(n[0]):o.length>1?setInterval(c,1e4):i(o[0]),window.innerWidth<=768?s():c())}function cambiarImagenPautaEstadio(){try{var e=document.querySelector(".pauta_estadio_css");if(e)return void(e.style.display="none")}catch(e){console.log(e)}}function Replica(){fetch("https://www.vistazo.com/rss/replicas.json").then((e=>e.json())).then((e=>{const t=e.rss.channel.item[0];if(t){const e=t.link;console.log("enlace json replica:",e);const o=document.querySelectorAll(".menu_burguer .tab-item");o.length>=2&&(o[1].href=e)}else console.log("No se encontraron elementos en el JSON.")})).catch((e=>{console.error("Error al obtener el JSON:",e)}))}function loadScript(e){var t=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.src="https://tracker.metricool.com/resources/be.js",o.onreadystatechange=e,o.onload=e,t.appendChild(o)}function DescargaPdfEtica(){fetch("https://codigomarret.online/upload/img/codigo-de-etica-vistazo.pdf",{method:"GET"}).then((e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.blob()})).then((e=>{const t=window.URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download="codigo_etica.pdf",document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(t)})).catch((e=>{console.error("Error al descargar el archivo:",e)}))}async function solicitarPermisoNotificaciones(){if(!("Notification"in window))return void console.error("Las notificaciones no estÃ¡n soportadas en este navegador.");const e=Notification.permission;if("granted"===e)console.log("Permisos de notificaciÃ³n ya otorgados."),mostrarNotificacion("Â¡Hola!","Ya tienes las notificaciones activadas.");else if("denied"===e)console.warn("Permiso de notificaciones denegado. Por favor, habilÃ­talo manualmente."),mostrarInstruccionesPermiso();else if("default"===e){console.log("Permisos de notificaciÃ³n aÃºn no solicitados. Solicitando...");try{const e=await Notification.requestPermission();"granted"===e?(console.log("Permisos otorgados por el usuario."),mostrarNotificacion("Â¡Gracias!","Ahora las notificaciones estÃ¡n habilitadas.")):"denied"===e&&(console.warn("El usuario denegÃ³ los permisos de notificaciÃ³n."),mostrarInstruccionesPermiso())}catch(e){console.error("Error solicitando permisos de notificaciÃ³n:",e)}}}function mostrarNotificacion(e,t){"Notification"in window&&new Notification(e,{body:t})}function mostrarInstruccionesPermiso(){}async function activarNotificaciones(){Notification.requestPermission().then((e=>{console.log("Estado de permisos:",e),"granted"===e?new Notification("Â¡Notificaciones activadas con Ã©xito!",{body:"Ahora recibirÃ¡s notificaciones importantes.",icon:"https://codigomarret.online/upload/img/logo-vis.png"}):"denied"===e?alert("Parece que tienes las notificaciones desactivadas. Por favor, actÃ­valas manualmente en la configuraciÃ³n del navegador."):alert("Por favor, habilita las notificaciones para recibir actualizaciones.")})).catch((e=>{console.error("Error al solicitar notificaciones:",e)}))}window.addEventListener("resize",cambiarImagenPautaHome),window.onscroll=function(){updateProgressBar()},document.addEventListener("DOMContentLoaded",(function(){Replica();var e=document.getElementById("lateral_izq");e&&(e.innerHTML=e.innerHTML.replace(/&nbsp;/g,""))})),document.addEventListener("DOMContentLoaded",(function(){let e=window.location.pathname;document.querySelector(".nav-links").addEventListener("mouseover",(function(e){if(e.target.classList&&e.target.classList.length>=2){const t=e.target.classList[1];"actualidad_link"==t?MostrarSubMenu("actualidad_submenu"):"politica_link"==t?MostrarSubMenu("politica_submenu"):"estilo_link"==t?MostrarSubMenu("estilo_vida_submenu"):"estadio_link"==t?MostrarSubMenu("estadio_submenu"):"portafolio_link"==t?MostrarSubMenu("portafolio_submenu"):"hogar_link"==t?MostrarSubMenu("hogar_submenu"):"opinion_link"==t&&LimpiaHoverMenu()}}));document.querySelectorAll(".movil_nav-links li a.has-submenu").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.nextElementSibling;"block"===t.style.display?t.style.display="none":t.style.display="block"}))})),CanalWhatsappMovil(),window.innerWidth<=768?(document.querySelector(".hamburg_bm").style.display="none",document.querySelector(".hamburg_bm_movil").style.display="block"):(document.querySelector(".hamburg_bm").style.display="block",document.querySelector(".hamburg_bm_movil").style.display="none"),"/"==e&&cambiarImagenPautaEstadio(),"/"!=e&&"/tes/index.html"!=e||cambiarImagenPautaHome()})),document.addEventListener("DOMContentLoaded",(function(){const e=new IntersectionObserver((function(e,t){e.forEach((e=>{e.isIntersecting&&(videoTecarender(),t.unobserve(e.target))}))})),t=document.querySelector(".videoteca");t&&e.observe(t)})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".subscribe-btn");e.href="https://suscripciones.vistazo.com/",e.target="_blank"})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".teaser-related-list article a");e&&e.forEach((function(e){e.style.position="relative";const t=document.createElement("span");t.textContent="â€¢",t.style.position="absolute",t.style.left="-5px",t.style.color="black",t.style.textDecoration="none",e.prepend(t)}))})),document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelector(".head_title .title.hogar a>div");console.log("hogarSession: ",e),e&&(e.innerHTML="",e.innerHTML='\n    <span class="hogar-text-1"> \n      <span class="letter-h">H</span>\n      <span class="letter-o">O</span> \n      <span class="letter-g">G</span> \n      <span class="letter-a">A</span> \n      <span class="letter-r">R</span> \n    </span>')})),loadScript((function(){beTracker.t({hash:"1f8f9d10dbf96519b00b253d557670f8"})})),window.DescargaPdfEtica=DescargaPdfEtica,window.cambiarImagenPautaHome=cambiarImagenPautaHome,solicitarPermisoNotificaciones();const HomeHogar="https://www.vistazo.com",url=["https://www.vistazo.com/testing/david-daxsen-el-visionario-ecuatoriano-que-trabaja-para-las-naciones-unidas-GB7298109","https://www.vistazo.com/hogar/personajes/david-daxsen-el-visionario-ecuatoriano-que-trabaja-para-las-naciones-unidas-GB7298109"];document.addEventListener("DOMContentLoaded",(function(){const e=window.location.href;url.some((t=>e.includes(t)))&&(window.location.href=HomeHogar)})),document.addEventListener("DOMContentLoaded",(function(){const e=window.matchMedia("(max-width: 768px)").matches?100:200;document.querySelectorAll(".subheadline_unico").forEach((function(t){const o=t.innerHTML;o.length>e&&(t.innerHTML=o.substring(0,e)+"...")}))})),null===document.getElementById("unico_6")?console.log("El elemento con id unico_6 no existe"):document.getElementById("unico_6").addEventListener("click",(function(e){e.preventDefault(),window.location.href="https://www.instagram.com/reel/DJAF19npj7b/?igsh=MTBqM2c3dHFkcmRieQ%3D%3D"})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll("figure.contentMedia.art-img"),t=document.createElement("style");t.innerHTML="\n    .cutline-byline {\n      position: static !important;\n      background: #323232 !important;\n      padding-top: 0.5em;\n      color: #fff !important;\n      font-size: 0.9em;\n    }\n  ",document.head.appendChild(t),e.forEach((e=>{const t=e.querySelector('div[frame="crop_768xfree"]'),o=e.querySelector(".cutline-byline");t&&o&&t.insertAdjacentElement("afterend",o)}))}));